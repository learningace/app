(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{x9zv:function(t,e,n){"use strict";n.r(e),n.d(e,"AssesmentModule",function(){return W});var o=n("Dk7Y"),i=n("tyNb"),c=n("fXoL");const s=[];let r=(()=>{class t{}return t.\u0275mod=c.Kb({type:t}),t.\u0275inj=c.Jb({factory:function(e){return new(e||t)},imports:[[i.k.forChild(s)],i.k]}),t})(),a=(()=>{class t{}return t.\u0275mod=c.Kb({type:t}),t.\u0275inj=c.Jb({factory:function(e){return new(e||t)},imports:[[r,o.a]]}),t})();var l=n("XNiG"),b=n("I/3d");let u=(()=>{class t{constructor(t){this.firestore=t,this.selected$=new l.a,this.choiceQuestionType$=new l.a,this.updateIndexes$=new l.a,this.selected$.next(!1),this.choiceQuestionType$.next("MCQ"),this.updateIndexes$.next(!1)}hideQuestionBlock(){this.selected$.next(!1)}updateViewContainerRef(t){this.viewCotainerRef=t}getViewContainerRef(){return this.viewCotainerRef}subcriberList(){return this.selected$.observers}changeChoiceQuestionType(t){switch(t){case"MCQ":this.choiceQuestionType$.next("MCQ");break;case"CHK":this.choiceQuestionType$.next("CHK");break;case"DRD":this.choiceQuestionType$.next("DRD");break;default:this.choiceQuestionType$.next("MCQ")}}getMyIndex(t){return this.viewCotainerRef.indexOf(t)}getQuid(){return"Q"+(Date.now()+2345).toString()}getFuid(){return(Date.now()+1234).toString()}getOpuid(){return"OP"+(Date.now()+3456).toString()}freshAssessmentTemplate(){return{metadata:[{title:"Untitled Assesment",description:"",dateCreated:Date.now().toString(),formId:this.getFuid()}],Questions:[{type:"MCQ",title:"I am a MCQ type question",descriptoin:"",choiceType:"MCQ",correct:"i am correct",order:"1",Quid:this.getQuid(),points:"1",options:[{optionValue:"Option 1",optionId:this.getOpuid(),optionOrder:"1"}]}]}}newQuestion(t,e,n){const o=JSON.parse(t);o.Questions.push({type:"MCQ",choiceType:"MCQ",title:"",descriptoin:"",correct:"",order:"",Quid:this.getQuid(),points:"1",options:[{optionValue:"New Option",optionId:this.getOpuid(),optionOrder:"1"}]});const i=o;console.log(i),this.firestore.doc("assessments/"+e).update({[n]:i}).then(()=>{})}}return t.\u0275fac=function(e){return new(e||t)(c.Wb(b.a))},t.\u0275prov=c.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var d=n("ofXK");const p=["optionContainer"];function h(t,e){1&t&&c.Nb(0,"img",14)}function f(t,e){1&t&&c.Nb(0,"i",15)}function m(t,e){1&t&&c.Nb(0,"i",16)}function g(t,e){if(1&t){const t=c.Tb();c.Sb(0,"div",17),c.Zb("click",function(){c.oc(t),c.cc();const e=c.nc(1);return c.cc().deleteOption(e)}),c.Nb(1,"i",18),c.Rb()}}function x(t,e){if(1&t){const t=c.Tb();c.Sb(0,"div",5,6),c.Sb(2,"div",7),c.tc(3,h,1,0,"img",8),c.tc(4,f,1,0,"i",9),c.tc(5,m,1,0,"i",10),c.Rb(),c.Sb(6,"input",11,12),c.Zb("blur",function(){c.oc(t);const e=c.nc(7);return c.cc().checkIfEmpty(e)}),c.Rb(),c.tc(8,g,2,0,"div",13),c.Rb()}if(2&t){const t=c.cc();c.Bb(3),c.hc("ngIf","MCQ"===t.choiceType),c.Bb(1),c.hc("ngIf","CHK"===t.choiceType),c.Bb(1),c.hc("ngIf","DRD"===t.choiceType),c.Bb(3),c.hc("ngIf",!t.hideDelete)}}function v(t,e){1&t&&c.Nb(0,"img",14)}function C(t,e){1&t&&c.Nb(0,"i",15)}function k(t,e){1&t&&c.Nb(0,"i",16)}function y(t,e){if(1&t){const t=c.Tb();c.Sb(0,"div",17),c.Zb("click",function(){c.oc(t),c.cc();const e=c.nc(1);return c.cc().deleteOther(e)}),c.Nb(1,"i",18),c.Rb()}}function w(t,e){if(1&t&&(c.Sb(0,"div",19,20),c.Sb(2,"div",7),c.tc(3,v,1,0,"img",8),c.tc(4,C,1,0,"i",9),c.tc(5,k,1,0,"i",10),c.Rb(),c.Nb(6,"input",21),c.tc(7,y,2,0,"div",13),c.Rb()),2&t){const t=c.cc();c.Bb(3),c.hc("ngIf","MCQ"===t.choiceType),c.Bb(1),c.hc("ngIf","CHK"===t.choiceType),c.Bb(1),c.hc("ngIf","DRD"===t.choiceType),c.Bb(2),c.hc("ngIf",!t.hideDelete)}}function O(t,e){if(1&t){const t=c.Tb();c.Sb(0,"span"),c.vc(1," or"),c.Sb(2,"button",22),c.Zb("click",function(){return c.oc(t),c.cc().addOther()}),c.vc(3,' add "Other" '),c.Rb(),c.Rb()}}let R=(()=>{class t{constructor(t){this.qblock=t,this.options=[1],this.optionNuber=1,this.hideDelete=!0,this.choiceType="MCQ",this.other=!1}ngOnInit(){this.subscription=this.qblock.choiceQuestionType$.subscribe(t=>{this.choiceType=t})}addOption(){this.options.push(1),this.optionNuber++,this.hideDelete=!1,console.log(this.opContainer.nativeElement.children)}addOther(){this.optionNuber++,this.hideDelete=!1,this.other=!0}deleteOption(t){this.optionNuber--,this.hideDelete=1==this.optionNuber,t.remove()}deleteOther(t){this.optionNuber--,this.hideDelete=1==this.optionNuber,t.remove(),this.other=!1}trackByFn(t,e){return t}checkIfEmpty(t){t.value||(t.value="Option")}ngOnDestroy(){this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(c.Mb(u))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-mcq"]],viewQuery:function(t,e){if(1&t&&c.xc(p,!0),2&t){let t;c.mc(t=c.ac())&&(e.opContainer=t.first)}},decls:8,vars:5,consts:[["optionContainer",""],["class","choice-group","class","d-flex justify-content-center m-2",4,"ngFor","ngForOf","ngForTrackBy"],["class","choice-group","class","d-flex justify-content-start m-2",4,"ngIf"],[1,"button","button-clear","add-option",3,"click"],[4,"ngIf"],[1,"d-flex","justify-content-center","m-2"],["refVar",""],[1,"choice-icon"],["width","20px","src","https://img.icons8.com/material/48/000000/unchecked-radio-button--v2.png",4,"ngIf"],["class","far fa-check-square font-x-large",4,"ngIf"],["class","fas fa-chevron-circle-down font-x-large",4,"ngIf"],["type","text",1,"text-input","font-large","font-rubik",3,"blur"],["inputVar",""],["class","close-icon",3,"click",4,"ngIf"],["width","20px","src","https://img.icons8.com/material/48/000000/unchecked-radio-button--v2.png"],[1,"far","fa-check-square","font-x-large"],[1,"fas","fa-chevron-circle-down","font-x-large"],[1,"close-icon",3,"click"],[1,"fas","fa-times","font-x-large"],[1,"d-flex","justify-content-start","m-2"],["otherVar",""],["type","text","readonly","","placeholder","Other...",1,"text-input","font-large","font-rubik","add-other"],[1,"button","button-clear","ml-2",2,"margin","0px","padding","0px","text-transform","capitalize !important",3,"click"]],template:function(t,e){1&t&&(c.Sb(0,"div",null,0),c.vc(2),c.tc(3,x,9,4,"div",1),c.tc(4,w,8,4,"div",2),c.Sb(5,"button",3),c.Zb("click",function(){return e.addOption()}),c.vc(6," Add Option "),c.Rb(),c.tc(7,O,4,0,"span",4),c.Rb()),2&t&&(c.Bb(2),c.wc(" ",e.other," "),c.Bb(1),c.hc("ngForOf",e.options)("ngForTrackBy",e.trackByFn),c.Bb(1),c.hc("ngIf",e.other),c.Bb(3),c.hc("ngIf",!e.other))},directives:[d.k,d.l],styles:[".close-icon[_ngcontent-%COMP%]:hover{cursor:pointer;color:red}.add-other[_ngcontent-%COMP%]:focus{border-bottom:none!important}.add-option[_ngcontent-%COMP%]{color:grey;opacity:.7;padding:0;margin:0;text-transform:capitalize!important}"]}),t})(),M=(()=>{class t{constructor(){this.wordLimit=0,this.previousVal=""}ngOnInit(){}onWordLimit(t){t.target.value=t.target.value.replace(/[^0-9.]/g,"").replace(/(\..*)\./g,"$1"),this.wordLimit=parseInt(t.target.value),console.log(this.wordLimit)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Gb({type:t,selectors:[["app-long-answer"]],decls:9,vars:0,consts:[[1,"container"],[1,"row"],[1,"col-10"],[1,"paragraph","font-rubik"],[1,"col-2"],["type","text","placeholder","Word Limit","pattern","[0-9]+",1,"text-input",2,"width","85%",3,"input"],[1,"word-limit-helper-text"]],template:function(t,e){1&t&&(c.Sb(0,"div",0),c.Sb(1,"div",1),c.Sb(2,"div",2),c.Sb(3,"div",3),c.vc(4,"Paragraph Answer Text"),c.Rb(),c.Rb(),c.Sb(5,"div",4),c.Sb(6,"input",5),c.Zb("input",function(t){return e.onWordLimit(t)}),c.Rb(),c.Sb(7,"small",6),c.vc(8,"Enter a decimal value"),c.Rb(),c.Rb(),c.Rb(),c.Rb())},styles:[".paragraph[_ngcontent-%COMP%]{padding-bottom:20px;border-bottom:1px dotted grey}.text-input[_ngcontent-%COMP%]{border-bottom:2px solid #683ab7!important}.text-input[_ngcontent-%COMP%], .text-input[_ngcontent-%COMP%]::placeholder{padding-left:0!important;margin-left:0!important}.text-input[_ngcontent-%COMP%]::placeholder{font-size:small}.word-limit-helper-text[_ngcontent-%COMP%]{display:none}.text-input[_ngcontent-%COMP%]:invalid ~ .word-limit-helper-text[_ngcontent-%COMP%]{display:block;color:red;font-size:small}.text-input[_ngcontent-%COMP%]:invalid{border-bottom:2px solid red!important}"]}),t})();function S(t,e){1&t&&c.Nb(0,"i",14)}function P(t,e){if(1&t){const t=c.Tb();c.Sb(0,"nav",15),c.Sb(1,"div",16),c.Zb("click",function(){c.oc(t);const e=c.nc(5);return c.cc().showDropdown(e)}),c.Nb(2,"div",17),c.Nb(3,"i",18),c.Rb(),c.Sb(4,"div",19,20),c.Sb(6,"ul"),c.Sb(7,"li",21),c.Zb("click",function(){c.oc(t);const e=c.nc(5);return c.cc().ChangeKind("MCQ",e)}),c.Nb(8,"img",22),c.vc(9," Multiple Choice "),c.Rb(),c.Sb(10,"li",21),c.Zb("click",function(){c.oc(t);const e=c.nc(5);return c.cc().ChangeKind("CHK",e)}),c.Nb(11,"i",23),c.vc(12," Checkboxes "),c.Rb(),c.Sb(13,"li",21),c.Zb("click",function(){c.oc(t);const e=c.nc(5);return c.cc().ChangeKind("DRD",e)}),c.Nb(14,"i",24),c.vc(15," Drop Down "),c.Rb(),c.Sb(16,"li",21),c.Zb("click",function(){c.oc(t);const e=c.nc(5);return c.cc().ChangeKind("LA",e)}),c.Nb(17,"i",25),c.vc(18," Paragraph Text "),c.Rb(),c.Rb(),c.Rb(),c.Rb()}if(2&t){const t=c.cc();c.Bb(2),c.hc("innerHTML",t.selected,c.pc)}}function _(t,e){1&t&&c.Ob(0,26)}function I(t,e){1&t&&c.Nb(0,"hr",27)}function Q(t,e){if(1&t){const t=c.Tb();c.Sb(0,"div",28),c.Sb(1,"button",29),c.Nb(2,"i",30),c.Rb(),c.Sb(3,"button",31),c.Zb("click",function(){return c.oc(t),c.cc().onDeleteMe()}),c.Nb(4,"i",32),c.Rb(),c.Sb(5,"div",33),c.Sb(6,"span",34),c.vc(7,"Required"),c.Rb(),c.Sb(8,"label",35),c.Nb(9,"input",36),c.Nb(10,"span",37),c.Rb(),c.Rb(),c.Rb()}}const D=function(t){return{onFocus:t}};let F=(()=>{class t{constructor(t){this.qblock=t,this.isSelected=!1,this.selected='<img\n                  class="mr-5"\n                  src="https://img.icons8.com/material/24/000000/unchecked-radio-button--v1.png"\n                  width="20px"\n                />\n                Multiple Choice',this.subscription=this.qblock.selected$.subscribe(t=>{this.isSelected=t}),this.updateIndexSubscription=this.qblock.updateIndexes$.subscribe(t=>{t&&(this.myindex=this.qblock.getMyIndex(this.myView))})}ngOnInit(){}ChangeKind(t,e){switch(t){case"LA":this.componentOutlet=M,this.selected='<i class="fas fa-align-left mr-5 fa-1x"></i>\n                Paragraph';break;case"MCQ":this.componentOutlet=R,this.selected='<img\n                  class="mr-5"\n                  src="https://img.icons8.com/material/24/000000/unchecked-radio-button--v1.png"\n                  width="20px"\n                />\n                Multiple Choice',this.qblock.changeChoiceQuestionType("MCQ");break;case"DRD":this.componentOutlet=R,this.selected='<i class="fas fa-chevron-circle-down mr-5 fa-1x"></i> Drop Down',this.qblock.changeChoiceQuestionType("DRD");break;case"CHK":this.componentOutlet=R,this.selected='<i class="far fa-check-square mr-5 fa-1x"></i>\n                Checkboxes',this.qblock.changeChoiceQuestionType("CHK");break;default:this.componentOutlet=R}e.style.display="none"}onFocus(t){t.stopPropagation(),this.qblock.hideQuestionBlock(),this.isSelected=!0}onDeleteMe(){const t=this.qblock.getViewContainerRef();this.qblock.updateIndexes$.next(!0),t.remove(this.myindex)}showDropdown(t){t.style.display="block"==t.style.display?"none":"block"}ngOnDestroy(){this.subscription.unsubscribe(),this.updateIndexSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(c.Mb(u))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-question-block"]],decls:14,vars:8,consts:[[1,"a-block",3,"ngClass","click"],[1,"row"],[1,"col-lg-7","col-11"],[1,"question-block-top-section"],["type","text","placeholder","Question",1,"text-input","font-montserrat","font-medium"],[1,"col-lg-1","col-1","d-flex","justify-content-center"],["class","fas fa-image fa-2x mt-3 img-button",4,"ngIf"],[1,"col-lg-4","col-xs-12"],["role","navigation",4,"ngIf"],[1,"qustion-block"],[1,"question-block-body"],[0,"context","myContext","",4,"ngComponentOutlet"],["style","color: lightgray",4,"ngIf"],["class","question-block-footer d-flex justify-content-end",4,"ngIf"],[1,"fas","fa-image","fa-2x","mt-3","img-button"],["role","navigation"],[1,"dropdown-text","font-rubik",3,"click"],[3,"innerHTML"],[1,"fas","fa-chevron-down","mt-1","ml-5",2,"float","right !important"],[1,"dropdown"],["dropdown",""],[3,"click"],["src","https://img.icons8.com/material/24/000000/unchecked-radio-button--v1.png","width","20px",1,"mr-2"],[1,"far","fa-check-square","mr-2","fa-1x"],[1,"fas","fa-chevron-circle-down","mr-2","fa-1x"],[1,"fas","fa-align-left","mr-2",2,"font-size","1.2rem"],[0,"context","myContext",""],[2,"color","lightgray"],[1,"question-block-footer","d-flex","justify-content-end"],["title","Duplicate",1,"button","button-clear","color-gray"],["aria-label","Duplicate","role","img",1,"fas","fa-clone","fa-2x"],[1,"button","button-clear","color-gray",2,"border-right","1px dotted gray","border-radius","0px",3,"click"],[1,"fas","fa-2x","fa-trash-alt"],[2,"vertical-align","middle","margin-top","6px","margin-left","20px"],[1,"font-montserrat","mr-2"],[1,"switch"],["type","checkbox","checked",""],[1,"slider","round"]],template:function(t,e){1&t&&(c.Sb(0,"div",0),c.Zb("click",function(t){return e.onFocus(t)}),c.Sb(1,"div",1),c.Sb(2,"div",2),c.Sb(3,"div",3),c.Nb(4,"input",4),c.Rb(),c.Rb(),c.Sb(5,"div",5),c.tc(6,S,1,0,"i",6),c.Rb(),c.Sb(7,"div",7),c.tc(8,P,19,1,"nav",8),c.Rb(),c.Rb(),c.Sb(9,"div",9),c.Sb(10,"div",10),c.tc(11,_,1,0,"ng-container",11),c.Rb(),c.tc(12,I,1,0,"hr",12),c.tc(13,Q,11,0,"div",13),c.Rb(),c.Rb()),2&t&&(c.hc("ngClass",c.kc(6,D,e.isSelected)),c.Bb(6),c.hc("ngIf",e.isSelected),c.Bb(2),c.hc("ngIf",e.isSelected),c.Bb(3),c.hc("ngComponentOutlet",e.componentOutlet),c.Bb(1),c.hc("ngIf",e.isSelected),c.Bb(1),c.hc("ngIf",e.isSelected))},directives:[d.i,d.l,d.j],styles:['.a-block[_ngcontent-%COMP%]{background-color:#fff;padding:20px;margin-bottom:20px;border-radius:10px;box-shadow:0 3px 15px rgba(0,0,0,.2);border-top-left-radius:6px;border-top-right-radius:6px}.onFocus[_ngcontent-%COMP%]{border-left:6px solid #4285f4}.color-gray[_ngcontent-%COMP%]{color:grey!important}.color-gray[_ngcontent-%COMP%]:hover{color:#000!important}.top-stripe[_ngcontent-%COMP%]{border-top:6px solid #683ab7!important}a[_ngcontent-%COMP%]{text-decoration:none}nav[_ngcontent-%COMP%]{width:100%;color:#000;position:absolute;right:8px;z-index:99999}.dropdown-text[_ngcontent-%COMP%]{width:100%;border:1px solid #d3d3d3;cursor:pointer;padding:20px;display:flex;justify-content:center}.dropdown-text[_ngcontent-%COMP%]:hover{cursor:pointer}.dropdown[_ngcontent-%COMP%]{z-index:9999;background-color:#fff;position:sticky;position:relative;display:flex;flex-direction:column;justify-content:center;flex:1 1 auto;display:none;overflow-x:auto;max-height:300px;border:1px solid #d3d3d3}.dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:20px;border:none!important}.dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#d3d3d3;cursor:pointer}.img-button[_ngcontent-%COMP%]{color:grey}.img-button[_ngcontent-%COMP%]:hover{cursor:pointer;color:#000}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:50px;height:24px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#ccc}.slider[_ngcontent-%COMP%], .slider[_ngcontent-%COMP%]:before{position:absolute;transition:.4s}.slider[_ngcontent-%COMP%]:before{content:"";height:16px;width:16px;left:4px;bottom:4px;background-color:#fff}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#2196f3}input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 1px #2196f3}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translateX(26px)}.slider.round[_ngcontent-%COMP%]{border-radius:34px}.slider.round[_ngcontent-%COMP%]:before{border-radius:50%}@media (max-width:992px){nav[_ngcontent-%COMP%]{position:static;width:inherit}}']}),t})();const T=["QuestionBlockContainer"],N=function(t){return{onFocus:t}};function q(t,e){if(1&t){const t=c.Tb();c.Sb(0,"div"),c.Nb(1,"br"),c.Sb(2,"div",1),c.Sb(3,"div",4),c.Sb(4,"div",5),c.Sb(5,"input",6,7),c.Zb("focus",function(){c.oc(t);const e=c.nc(6);return c.cc().OnInputFocus(e)})("blur",function(){return c.oc(t),c.cc().onFocusLeave()}),c.Rb(),c.Rb(),c.Sb(7,"div",8),c.Sb(8,"input",9,10),c.Zb("focus",function(){c.oc(t);const e=c.nc(9);return c.cc().OnInputFocus(e)})("blur",function(){return c.oc(t),c.cc().onFocusLeave()}),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb()}if(2&t){const t=c.cc();c.Bb(3),c.hc("ngClass",c.kc(3,N,t.isSelected)),c.Bb(2),c.ic("value",t.metadata.title),c.Bb(3),c.ic("value",t.metadata.description)}}function B(t,e){}function Z(t,e){if(1&t){const t=c.Tb();c.Sb(0,"div",11),c.Sb(1,"table"),c.Sb(2,"tr"),c.Sb(3,"td"),c.Sb(4,"button",12),c.Zb("click",function(){return c.oc(t),c.cc().AddQuestion()}),c.vc(5," Add a Question "),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb()}}let A=(()=>{class t{constructor(t,e,n,o){this.componentFactoryResolver=t,this.qblock=e,this.firestore=n,this.router=o,this.isSelected=!1,this.dataLoaded=!1,this.uid=this.router.snapshot.data.uid,this.fid=this.router.snapshot.url[0].path}handleKeyDown(t){this.qblock.hideQuestionBlock()}ngOnInit(){this.formDataSubscription=this.firestore.doc("assessments/"+this.uid).valueChanges().subscribe(t=>{const e=t[this.fid];this.formData=JSON.stringify(e),this.questions=e.Questions,this.metadata=e.metadata[0],this.dataLoaded=!0,this.ref.clear(),this.questions.forEach(t=>{this.loadQuestion(t)})})}OnInputFocus(t){t.select(),this.isSelected=!0}AddQuestion(){this.qblock.newQuestion(this.formData,this.uid,this.fid)}loadQuestion(t){const e=this.componentFactoryResolver.resolveComponentFactory(F);this.componentRef=this.ref.createComponent(e),this.qblock.updateViewContainerRef(this.ref),this.viewRef=this.componentRef.hostView,this.componentRef.instance.myindex=this.ref.indexOf(this.viewRef),this.componentRef.instance.componentOutlet=this.checkComponent(t.type),this.componentRef.instance.myView=this.viewRef}checkComponent(t){switch(t){case"MCQ":return R;case"LA":return M;default:return R}}onFocusLeave(){this.isSelected=!1}move(){this.ref.move(this.viewRef,0)}ngOnDestroy(){this.uidSubscription.unsubscribe(),this.formDataSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(c.Mb(c.j),c.Mb(u),c.Mb(b.a),c.Mb(i.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-edit-assesment"]],viewQuery:function(t,e){if(1&t&&c.xc(T,!0,c.Q),2&t){let t;c.mc(t=c.ac())&&(e.ref=t.first)}},hostBindings:function(t,e){1&t&&c.Zb("click",function(){return e.handleKeyDown()})},decls:5,vars:2,consts:[[4,"ngIf"],[1,"container"],["QuestionBlockContainer",""],["class","footer-toolbar fixed",4,"ngIf"],[1,"assesment-header","a-block","top-stripe",3,"ngClass"],[1,"assesment-title"],["type","text","name","assesment-title",1,"assesment-text-input","font-montserrat","font-xx-large",3,"value","focus","blur"],["inputElement",""],[1,"assesment-description"],["type","text","name","assesment-title","placeholder","Assesment Description",1,"assesment-text-input","font-montserrat","font-medium",3,"value","focus","blur"],["inputElement2",""],[1,"footer-toolbar","fixed"],[1,"button","button-clear",3,"click"]],template:function(t,e){1&t&&(c.tc(0,q,10,5,"div",0),c.Sb(1,"div",1),c.tc(2,B,0,0,"ng-template",null,2,c.uc),c.Rb(),c.tc(4,Z,6,0,"div",3)),2&t&&(c.hc("ngIf",e.dataLoaded),c.Bb(4),c.hc("ngIf",e.dataLoaded))},directives:[d.l,d.i],styles:['.fixed[_ngcontent-%COMP%]{position:sticky;position:-webkit-sticky;bottom:0}.footer-toolbar[_ngcontent-%COMP%]{-ms-overflow-style:none;scrollbar-width:none;overflow-x:auto;overflow-y:hidden;background-color:#e6e6fa}.fixed[_ngcontent-%COMP%]:before{content:""}.footer-toolbar[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}[_nghost-%COMP%]{background-color:#e6e6fa}input[type=text].assesment-text-input[_ngcontent-%COMP%]{width:100%;border:none;border-bottom:2px solid rgba(104,58,183,0);transition:all .7s linear;margin-bottom:20px}input[type=text].assesment-text-input[_ngcontent-%COMP%]:focus{outline:none;border-bottom:100% solid #683ab7}.a-block[_ngcontent-%COMP%]{background-color:#fff;padding:20px;margin-bottom:20px;border-radius:10px;box-shadow:0 3px 15px rgba(0,0,0,.2);border-top-left-radius:6px;border-top-right-radius:6px}.onFocus[_ngcontent-%COMP%]{border-left:6px solid #4285f4}.top-stripe[_ngcontent-%COMP%]{border-top:6px solid #683ab7!important}']}),t})();const L=["QuestionBlockContainer"];function K(t,e){}const j=function(t){return{onFocus:t}};let $=(()=>{class t{constructor(t,e){this.componentFactoryResolver=t,this.qblock=e,this.isSelected=!1}ngOnInit(){}OnInputFocus(t){t.select(),this.isSelected=!0}AddQuestion(){const t=this.componentFactoryResolver.resolveComponentFactory(F);this.componentRef=this.ref.createComponent(t),this.qblock.updateViewContainerRef(this.ref),this.viewRef=this.componentRef.hostView,this.componentRef.instance.myindex=this.ref.indexOf(this.viewRef),this.componentRef.instance.componentOutlet=R,this.componentRef.instance.myView=this.viewRef}onFocusLeave(){this.isSelected=!1}move(){this.ref.move(this.viewRef,0)}}return t.\u0275fac=function(e){return new(e||t)(c.Mb(c.j),c.Mb(u))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-create-assesment"]],viewQuery:function(t,e){if(1&t&&c.xc(L,!0,c.Q),2&t){let t;c.mc(t=c.ac())&&(e.ref=t.first)}},decls:19,vars:3,consts:[[1,"body",3,"click"],[1,"container"],[1,"assesment-header","a-block","top-stripe",3,"ngClass"],[1,"assesment-title"],["type","text","name","assesment-title","value","Untitled Assesment",1,"assesment-text-input","font-montserrat","font-xx-large",3,"focus","blur"],["inputElement",""],[1,"assesment-description"],["type","text","name","assesment-title","placeholder","Assesment Description",1,"assesment-text-input","font-montserrat","font-medium",3,"focus","blur"],["inputElement2",""],["QuestionBlockContainer",""],[1,"footer-toolbar","fixed"],[1,"button","button-clear",3,"click"]],template:function(t,e){if(1&t){const t=c.Tb();c.Sb(0,"div",0),c.Zb("click",function(){return e.qblock.hideQuestionBlock()}),c.Nb(1,"br"),c.Sb(2,"div",1),c.Sb(3,"div",2),c.Sb(4,"div",3),c.Sb(5,"input",4,5),c.Zb("focus",function(){c.oc(t);const n=c.nc(6);return e.OnInputFocus(n)})("blur",function(){return e.onFocusLeave()}),c.Rb(),c.Rb(),c.Sb(7,"div",6),c.Sb(8,"input",7,8),c.Zb("focus",function(){c.oc(t);const n=c.nc(9);return e.OnInputFocus(n)})("blur",function(){return e.onFocusLeave()}),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Sb(10,"div",1),c.tc(11,K,0,0,"ng-template",null,9,c.uc),c.Rb(),c.Rb(),c.Sb(13,"div",10),c.Sb(14,"table"),c.Sb(15,"tr"),c.Sb(16,"td"),c.Sb(17,"button",11),c.Zb("click",function(){return e.AddQuestion()}),c.vc(18," Add a Question "),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb()}2&t&&(c.Bb(3),c.hc("ngClass",c.kc(1,j,e.isSelected)))},directives:[d.i],styles:['.fixed[_ngcontent-%COMP%]{position:sticky;position:-webkit-sticky;bottom:0}.footer-toolbar[_ngcontent-%COMP%]{-ms-overflow-style:none;scrollbar-width:none;overflow-x:auto;overflow-y:hidden;background-color:#e6e6fa}.fixed[_ngcontent-%COMP%]:before{content:""}.footer-toolbar[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.body[_ngcontent-%COMP%]{background-color:#e6e6fa;min-height:93vh}input[type=text].assesment-text-input[_ngcontent-%COMP%]{width:100%;border:none;border-bottom:2px solid rgba(104,58,183,0);transition:all .7s linear;margin-bottom:20px}input[type=text].assesment-text-input[_ngcontent-%COMP%]:focus{outline:none;border-bottom:100% solid #683ab7}.a-block[_ngcontent-%COMP%]{background-color:#fff;padding:20px;margin-bottom:20px;border-radius:10px;box-shadow:0 3px 15px rgba(0,0,0,.2);border-top-left-radius:6px;border-top-right-radius:6px}.onFocus[_ngcontent-%COMP%]{border-left:6px solid #4285f4}.top-stripe[_ngcontent-%COMP%]{border-top:6px solid #683ab7!important}']}),t})();var V=n("UbJi");let E=(()=>{class t{constructor(t){this.auth=t}getCurrentUser(){return this.auth.authState}}return t.\u0275fac=function(e){return new(e||t)(c.Wb(V.a))},t.\u0275prov=c.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),z=(()=>{class t{constructor(t,e,n,o){this.router=t,this.user=e,this.firestore=n,this.qblock=o}ngOnInit(){}onCreateAssesment(){this.router.navigate(["/instructor/assesment/create"])}onFormEdit(){this.router.navigate(["instructor/assesment/edit"])}onFormCreate(){const t=this.qblock.freshAssessmentTemplate(),e=t.metadata[0].formId;this.uidSubscription=this.user.getCurrentUser().subscribe(n=>{n&&this.firestore.doc("assessments/"+n.uid).update({[e]:t}).then(t=>{this.router.navigate([`instructor/assesment/${e}/edit`])})})}ngOnDestroy(){this.uidSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(c.Mb(i.g),c.Mb(E),c.Mb(b.a),c.Mb(u))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-assesment-dashboard"]],decls:22,vars:0,consts:[[1,"container"],[1,"font-montserrat","w-100","text-center"],[1,"row"],[1,"button","button-clear",3,"click"],[1,"col-lg-3"],[1,"intro-card","height-small","box-shadow-4",3,"click"],[1,"form-thumbnail"],[1,"p-1","intro-card-footer"],[1,"title"],[1,"last-opened","font-x-smaller","display-inline-block"],[1,"menu","display-inline-block"],[1,"button","button-clear"]],template:function(t,e){1&t&&(c.Sb(0,"div",0),c.Sb(1,"h1",1),c.vc(2,"Create an assesment"),c.Rb(),c.Sb(3,"div",2),c.Sb(4,"button",3),c.Zb("click",function(){return e.onCreateAssesment()}),c.vc(5," Create an assesment "),c.Rb(),c.Sb(6,"button",3),c.Zb("click",function(){return e.onFormCreate()}),c.vc(7," Create an assesment new way "),c.Rb(),c.Rb(),c.Sb(8,"h1",1),c.vc(9,"All Assements"),c.Rb(),c.Sb(10,"div",2),c.Sb(11,"div",4),c.Sb(12,"div",5),c.Zb("click",function(){return e.onFormEdit()}),c.Nb(13,"div",6),c.Sb(14,"div",7),c.Sb(15,"div",8),c.vc(16,"Maths Assesment"),c.Rb(),c.Sb(17,"div",9),c.vc(18," Opened 24-02-2021 at 8:45 PM "),c.Rb(),c.Sb(19,"div",10),c.Sb(20,"button",11),c.vc(21,"M"),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb())},styles:[".height-small[_ngcontent-%COMP%]{min-height:300px!important;max-height:300px!important}.intro-card-footer[_ngcontent-%COMP%]{max-height:100px!important;position:absolute;bottom:0}.intro-card[_ngcontent-%COMP%]{position:relative!important;cursor:pointer}.intro-card[_ngcontent-%COMP%]:hover{box-shadow:0 1px 5px 1px #006089;transform:scale(1.05);-moz-transform:scale(1.05);-o-transform:scale(1.05)}"]}),t})();var J=n("IzEk"),H=n("lJxs");const U=[{path:"",component:z},{path:"create",component:$},{path:":id/edit",component:A,resolve:{uid:(()=>{class t{constructor(t){this.userUid=t}resolve(t){return this.userUid.getCurrentUser().pipe(Object(J.a)(1),Object(H.a)(t=>t?t.uid:null))}}return t.\u0275fac=function(e){return new(e||t)(c.Wb(E))},t.\u0275prov=c.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}];let G=(()=>{class t{}return t.\u0275mod=c.Kb({type:t}),t.\u0275inj=c.Jb({factory:function(e){return new(e||t)},imports:[[i.k.forChild(U)],i.k]}),t})(),W=(()=>{class t{}return t.\u0275mod=c.Kb({type:t}),t.\u0275inj=c.Jb({factory:function(e){return new(e||t)},imports:[[o.a,G,a]]}),t})()}}]);